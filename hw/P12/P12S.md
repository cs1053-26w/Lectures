# Lecture 12 Problems - Solutions

1. 
```python
def ncc_cost(left_patch, right_patch):
    lp = (left_patch - left_patch.mean()) / left_patch.std()
    rp = (right_patch - right_patch.mean()) / right_patch.std()
    return (lp * rp).sum()
```


2. 
```
p1: (50, 50)
p2: (40, 25)
p3: (0, 0)
```


3. 
```python
K = np.array([
    [-100, 0, 50],
    [0, 100, 50],
    [0, 0, 1]
], dtype=np.float64)
```

4. 

p1: (0, 0, -200)

p2: (0, 50, -220)

p3: (0, 100, -300)


5. 

u = (0, 0, -1)

v = 0, 1, 0)

w = (1, 0, 0)

p = (200, 0, -200)

```python
frame = np.array([
    [0, 0, 1, 200],
    [0, 1, 0,   0],
    [-1,0, 0,-200],
    [0, 0, 0, 1]
], dtype=np.float64)
```

Its inverse is:

```python
[  -0.,   -0.,   -1., -200.],
[   0.,    1.,    0.,    0.],
[   1.,    0.,    0., -200.],
[   0.,    0.,    0.,    1.]
```




6. 

```python
pts_cam = np.linalg.inv(frame) @ points_4d
pts_cam /= pts_cam[3,:]
pts_cam
#        (p1)    (p2)   (p3)
array([[   0.,    0.,    0.],
       [   0.,   50.,  100.],
       [-200., -220., -300.],
       [   1.,    1.,    1.]])
```


7. 

```python
K4d = np.zeros((3, 4))
K4d[:3,:3] = K
K4d

[[50.         50.         50.        ]
 [50.         27.27272727 16.66666667]
 [ 1.          1.          1.        ]]
```
