
# Lecture 4 Problems - Solutions

1. **Prefilter-and-downsample:** 

   * 5x5 prefilter takes
     * 25 multiplications per pixel for a square filter
     * 10 per pixel if using separable filter

   * 3x3 sobel applied to one quarter of the pixels:
     * $\frac{1}{4} * 9 = 2.25$ multiplications per downsampled pixel for a square filter
     * $\frac{1}{4} * 6 = 1.25$ if separable

   * Together, these sum to 27.25 (square) or 11.25 (separable) multiplications per pixel.

   **Larger Sobel filter:**

   * 7x7 Sobel filter takes
     * 49 multiplications per pixel
     * 14 if separable


   **The downsampling approach is more efficient**:

   | Filtering approach | Downsampling app  | Bigger Filter app |
   | ------------------ | ----------------- | ----------------- |
   | Square             | 25 + 2.25 = 27.25 | 49                |
   | Separable          | 10 + 1.25 = 11.25 | 14                |

   Notice that if you wanted to compute this at 4x reduced scale, the advantage would be even more pronounced.

2. 21,845 pixels $\approx$ 148x148

   From [here](https://www.quora.com/How-do-I-solve-this-question-1+1-4+1-16+1-64+-+up-to-infinity)

   $S = 1 + 1/4 + 1/16 + ...$

   $S/4 = 1/4 + 1/16 + ... $

   Subtract the two and terms cancel:

   $ S - S / 4 = 1$, which rearranges to

   $3S = 4$, or $S = 4/3$

   So this converges to $1 \frac{1}{3}$ times the input storage.

3. When $\ell = k$

4. $G_i + \lambda L_i$ for some $\lambda > 0$

5. 
    ```
    G[i] = L[k]
    for i = k-1 to 0:
    	G[i] = upsample(G[i]) + L[i]
    ```


