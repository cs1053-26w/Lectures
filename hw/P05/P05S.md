# Lecture 5 Problems - Solutions

1. They are not unique because many different points in a scene may share an RGB value

   They are not invariant because change from one image to another (e.g., exposure or lighting) may change the RGB value of the same point.

2. 
   1. The image patch is flat (i.e., one color)
   2. The image patch has an edge but not a corner
   3. The image patch has a corner

3. Gradients:

    $$
    X: 
    \begin{bmatrix}
      0 & 0 & 0\\
      0 & 0 & 0\\
      0 & 0 & 0
    \end{bmatrix}
    \begin{bmatrix}
      2 & 2 & 0\\
      2 & 2 & 0\\
      0 & 0 & 0
    \end{bmatrix}
    \begin{bmatrix}
      0 & 0 & 0\\
      2 & 2 & 0\\
      0 & 2 & 2
    \end{bmatrix}
    \\
    Y: \begin{bmatrix}
      0 & 0 & 0\\
      2 & 2 & 2\\
      2 & 2 & 2
    \end{bmatrix}
    \begin{bmatrix}
      0 & 0 & 0\\
      0 & 2 & 2\\
      0 & 2 & 2
    \end{bmatrix}
    \begin{bmatrix}
      2 & 0 & 0\\
      2 & 2 & 0\\
      0 & 2 & 0
    \end{bmatrix}
    $$

    Structure tensor:

    $$
    \begin{bmatrix}
      0 & 0 \\
      0 & 24 
    \end{bmatrix}
    \begin{bmatrix}
      16 & 4 \\
      4 & 16 
    \end{bmatrix}
    \begin{bmatrix}
      16 & 12 \\
      12 & 16 
    \end{bmatrix}
    $$

4. 0, 12, 4

5. 
    ```python
    def harris_score(img):
      """ Returns the smaller eigenvalue of the structure tensor for each pixel in img.
      Pre: img is grayscale, float, [0,1]. """
        dx = convolve(img, sobel_x)
        dy = convolve(img, sobel_y)
        A = separable_filter(dx * dx, gauss1d5)
        B = separable_filter(dx * dy, gauss1d5)
        C = separable_filter(dy * dy, gauss1d5)

        det = A*C - B*B
        tr = A+C
        
        m = tr / 2
        p = det
        sqrtm2mp = np.sqrt(m**2 - p)
        eig1 = m - sqrtm2mp
        eig2 = m + sqrtm2mp
        return np.minimum(eig1, eig2)
    ```

6. Our convolution does zero padding, so there's an implicit edge around the border where the intensity drops to zero. So horizontal edges coming out of that look like corners; also the corners of the image itself look like corners. We'd need to do repeat or reflect padding to prevent this.

7. 
    1. Yes
    2. Mostly, except for the threshold
    3. No, but run it on a pyramid
    4. Yes
    5. Yes